(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(88636),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>n,"CardHeader",()=>i,"CardTitle",()=>r])},31215,e=>{"use strict";var t=e.i(24892),s=e.i(62525),a=e.i(84739),i=e.i(88636),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>{let r=t.forwardRef((e,t)=>{let{asChild:r,...n}=e,l=r?a.Slot:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...n,ref:t})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{});function n(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>r,"dispatchDiscreteCustomEvent",()=>n])},23750,e=>{"use strict";var t=e.i(88636),s=e.i(47163);function a({className:e,type:a,...i}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm text-foreground","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>a])},10708,e=>{"use strict";var t=e.i(88636),s=e.i(24892),a=e.i(31215),i=s.forwardRef((e,s)=>(0,t.jsx)(a.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var r=e.i(47163);function n({className:e,...s}){return(0,t.jsx)(i,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50 text-foreground",e),...s})}e.s(["Label",()=>n],10708)},11741,e=>{"use strict";let t=(0,e.i(10965).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],11741)},2295,e=>{"use strict";var t=e.i(88636),s=e.i(24892),a=e.i(77020),i=e.i(67881),r=e.i(70065),n=e.i(23750),l=e.i(10708),d=e.i(71206),c=e.i(11741);function o(){let e=(0,a.useParams)(),o=(0,a.useRouter)(),u=e.centerId,[x,m]=(0,s.useState)(null),[h,f]=(0,s.useState)(!0),[p,b]=(0,s.useState)(null),[v,g]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),y=(0,s.useMemo)(()=>{let e=x?.center?.featuredRank;return null==e?"":String(e)},[x]),w=async()=>{try{b(null),f(!0);let e=await (0,d.backofficeFetch)(`/api/backoffice/centers/${u}`);m(e)}catch(e){b(e?.message||"Failed")}finally{f(!1)}};(0,s.useEffect)(()=>{w()},[u]);let k=async e=>{try{g(!0),await (0,d.backofficeFetch)(`/api/backoffice/centers/${u}`,{method:"POST",body:JSON.stringify(e)}),await w()}finally{g(!1)}},C=async()=>{await k({published:!x?.center?.published})},S=async()=>{let e="active"===(x?.center?.status||"active")?"suspended":"active";await k({status:e})},T=async e=>{let t=""===e.trim()?null:Number(e);""!==e.trim()&&Number.isNaN(t)||await k({featuredRank:t})},P=async()=>{let e=x?.center?.name||"this center";if(window.confirm(`Are you sure you want to delete "${e}"?

This will permanently delete:
- Center profile
- All courts
- All bookings
- User account

This action cannot be undone.`))try{N(!0),await (0,d.backofficeFetch)(`/api/backoffice/centers/${u}`,{method:"DELETE"}),o.push("/backoffice/centers")}catch(e){b(e?.message||"Failed to delete center")}finally{N(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Center"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-1 font-mono",children:u})]}),(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>o.back(),children:"Back"})]}),h?(0,t.jsx)("div",{className:"text-slate-600",children:"Loading…"}):null,p?(0,t.jsx)("div",{className:"text-sm text-red-600",children:p}):null,x?.center?(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)(r.Card,{className:"border border-slate-200/70 shadow-sm",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{className:"text-base text-slate-900",children:"Profile"})}),(0,t.jsxs)(r.CardContent,{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Name:"})," ",x.center.name||"—"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Email:"})," ",x.center.email||"—"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Slug:"})," ",(0,t.jsx)("span",{className:"font-mono text-xs",children:x.center.slug||"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Published:"})," ",x.center.published?"Yes":"No"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Status:"})," ",x.center.status||"active"]}),(0,t.jsxs)("div",{className:"pt-3 flex flex-wrap gap-2",children:[(0,t.jsx)(i.Button,{className:"bg-blue-600 hover:bg-blue-700",disabled:v,onClick:C,children:x.center.published?"Unpublish":"Publish"}),(0,t.jsx)(i.Button,{variant:"outline",disabled:v,onClick:S,children:"active"===(x.center.status||"active")?"Suspend":"Activate"}),(0,t.jsxs)(i.Button,{variant:"destructive",disabled:j,onClick:P,className:"ml-auto",children:[(0,t.jsx)(c.Trash2,{className:"w-4 h-4 mr-2"}),j?"Deleting...":"Delete"]})]})]})]}),(0,t.jsxs)(r.Card,{className:"border border-slate-200/70 shadow-sm",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{className:"text-base text-slate-900",children:"Stats"})}),(0,t.jsxs)(r.CardContent,{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Courts:"})," ",x.courtsCount??"—"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Bookings:"})," ",x.bookingsCount??"—"]}),(0,t.jsxs)("div",{className:"pt-3",children:[(0,t.jsx)(l.Label,{children:"Featured rank"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)(n.Input,{defaultValue:y,placeholder:"e.g. 10",inputMode:"numeric",onKeyDown:e=>{"Enter"===e.key&&T(e.target.value)}}),(0,t.jsx)(i.Button,{className:"bg-blue-600 hover:bg-blue-700",disabled:v,onClick:()=>{let e=document.activeElement;e&&"INPUT"===e.tagName&&T(e.value)},children:"Save"})]}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Used for ordering on /clubs."})]})]})]})]}):null]})}e.s(["default",()=>o])}]);