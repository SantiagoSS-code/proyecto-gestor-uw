(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var a=e.i(88636),s=e.i(47163);function t({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function r({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>i,"CardDescription",()=>c,"CardHeader",()=>l,"CardTitle",()=>r])},7436,e=>{"use strict";var a=e.i(88636),s=e.i(24892),t=e.i(77020),l=e.i(67881),r=e.i(70065),c=e.i(71206);function i(){let e=(0,t.useParams)(),i=(0,t.useRouter)(),d=Array.isArray(e.uid)?e.uid[0]:e.uid,[n,o]=(0,s.useState)(null),[x,u]=(0,s.useState)(!0),[h,m]=(0,s.useState)(null),[j,b]=(0,s.useState)(!1),f=async()=>{if(d)try{m(null),u(!0);let e=await (0,c.backofficeFetch)(`/api/backoffice/players/${d}`);o(e)}catch(e){m(e?.message||"Error al cargar")}finally{u(!1)}};(0,s.useEffect)(()=>{f()},[d]);let p=async e=>{try{b(!0),await (0,c.backofficeFetch)(`/api/backoffice/players/${d}/status`,{method:"POST",body:JSON.stringify({status:e})}),await f()}finally{b(!1)}},N=async()=>{if(d&&window.confirm("¿Eliminar esta cuenta? Esta acción no se puede deshacer."))try{b(!0),await (0,c.backofficeFetch)(`/api/backoffice/players/${d}/delete`,{method:"POST"}),i.push("/backoffice/players")}finally{b(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Jugador"}),(0,a.jsx)("p",{className:"text-sm text-black mt-1 font-mono",children:d})]}),(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>i.back(),children:"Volver"})]}),x?(0,a.jsx)("div",{className:"text-black",children:"Cargando…"}):null,h?(0,a.jsx)("div",{className:"text-sm text-red-600",children:h}):null,n?.user?(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,a.jsxs)(r.Card,{className:"border border-slate-200/70 shadow-sm",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{className:"text-base text-slate-900",children:"Perfil"})}),(0,a.jsxs)(r.CardContent,{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-black",children:"Email:"})," ",n.user.email||"—"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-black",children:"Nombre:"})," ",n.user.name||n.user.displayName||n.player?.name||"—"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-black",children:"Rango de edad:"})," ",n.player?.ageRange||"—"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-black",children:"Nivel de juego:"})," ",n.player?.level||n.player?.skillLevel||"—"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-black",children:"Género:"})," ",n.player?.gender||"—"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-black",children:"Estado:"})," ",n.user.status||"active"]}),(0,a.jsxs)("div",{className:"pt-3 flex gap-2",children:[(0,a.jsx)(l.Button,{className:"bg-blue-600 hover:bg-blue-700",disabled:j,onClick:()=>p("active"),children:"Reactivar"}),(0,a.jsx)(l.Button,{variant:"outline",disabled:j,onClick:()=>p("disabled"),children:"Pausar"}),(0,a.jsx)(l.Button,{variant:"destructive",disabled:j,onClick:N,children:"Eliminar cuenta"})]})]})]}),(0,a.jsxs)(r.Card,{className:"border border-slate-200/70 shadow-sm",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{className:"text-base text-slate-900",children:"Reservas (MVP)"})}),(0,a.jsx)(r.CardContent,{children:Array.isArray(n.bookings)&&n.bookings.length?(0,a.jsx)("div",{className:"overflow-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left text-black",children:[(0,a.jsx)("th",{className:"py-2",children:"ID"}),(0,a.jsx)("th",{className:"py-2",children:"Estado"}),(0,a.jsx)("th",{className:"py-2",children:"Ruta"})]})}),(0,a.jsx)("tbody",{children:n.bookings.map(e=>(0,a.jsxs)("tr",{className:"border-t border-slate-100",children:[(0,a.jsx)("td",{className:"py-2 font-mono text-xs text-slate-800",children:e.id}),(0,a.jsx)("td",{className:"py-2",children:e.status||"—"}),(0,a.jsx)("td",{className:"py-2 font-mono text-xs text-black",children:e.path})]},e.id))})]})}):(0,a.jsx)("div",{className:"text-sm text-black",children:"No se encontraron reservas."})})]})]}):null]})}e.s(["default",()=>i])}]);