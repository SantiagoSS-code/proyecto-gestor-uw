{"version":3,"sources":["../../../../app/backoffice/bookings/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { backofficeFetch, BackofficeRequestError } from \"@/lib/backoffice/client\"\n\nexport default function BackofficeBookingsPage() {\n  const [items, setItems] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<{ message: string; status?: number } | null>(null)\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setError(null)\n        setLoading(true)\n        const res = await backofficeFetch<{ items: any[] }>(\"/api/backoffice/bookings?limit=100\")\n        setItems(res.items)\n      } catch (e: any) {\n        if (e instanceof BackofficeRequestError) {\n          setError({ message: e.message, status: e.status })\n        } else {\n          setError({ message: e?.message || \"Failed\" })\n        }\n      } finally {\n        setLoading(false)\n      }\n    }\n    load()\n  }, [])\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-semibold text-slate-900\">Bookings</h1>\n        <p className=\"text-sm text-slate-600 mt-1\">Read-only list of recent bookings (MVP).</p>\n      </div>\n\n      {loading ? <div className=\"text-slate-600\">Loading…</div> : null}\n      {error ? (\n        <div className=\"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700\">\n          <div className=\"font-semibold\">Request failed</div>\n          <div>{error.message}</div>\n          {typeof error.status === \"number\" ? <div className=\"text-xs mt-1\">Status: {error.status}</div> : null}\n        </div>\n      ) : null}\n\n      <div className=\"overflow-auto border border-slate-200 rounded-xl\">\n        <table className=\"w-full text-sm\">\n          <thead>\n            <tr className=\"text-left text-slate-600 bg-slate-50\">\n              <th className=\"py-2 px-3\">ID</th>\n              <th className=\"py-2 px-3\">Status</th>\n              <th className=\"py-2 px-3\">Court</th>\n              <th className=\"py-2 px-3\">User</th>\n              <th className=\"py-2 px-3\">Path</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((b) => (\n              <tr key={`${b.path}:${b.id}`} className=\"border-t border-slate-100\">\n                <td className=\"py-2 px-3 font-mono text-xs text-slate-800\">{b.id}</td>\n                <td className=\"py-2 px-3\">{b.status || \"—\"}</td>\n                <td className=\"py-2 px-3 font-mono text-xs\">{b.courtId || \"—\"}</td>\n                <td className=\"py-2 px-3 font-mono text-xs\">{b.userId || \"—\"}</td>\n                <td className=\"py-2 px-3 font-mono text-xs text-slate-500\">{b.path}</td>\n              </tr>\n            ))}\n            {!loading && items.length === 0 ? (\n              <tr>\n                <td className=\"py-6 px-3 text-slate-600\" colSpan={5}>\n                  No bookings found.\n                </td>\n              </tr>\n            ) : null}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}