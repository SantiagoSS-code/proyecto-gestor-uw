module.exports=[35831,a=>{"use strict";var b=a.i(82746),c=a.i(80940),d=a.i(16119);a.i(56108);var e=a.i(42070),f=a.i(21937),g=a.i(99996),h=a.i(40695),i=a.i(5522),j=a.i(17171),k=a.i(3130),l=a.i(65602),m=a.i(28980),n=a.i(11374),o=a.i(84435),p=a.i(71917),q=a.i(12582),r=a.i(62158);function s(){let{user:a,loading:s}=(0,f.useAuth)(),t=(0,d.useRouter)(),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)({name:"",phone:"",street:"",streetNumber:"",province:"",postalCode:"",placeId:"",lat:"",lng:"",city:"",country:"",centerContactName:"",centerContactEmail:"",centerContactPhone:"",adminContactName:"",adminContactEmail:"",adminContactPhone:""}),[C,D]=(0,c.useState)(null);(0,c.useEffect)(()=>{s||a||t.push("/auth/login")},[a,s,t]),(0,c.useEffect)(()=>{let b=async()=>{if(a)try{let b=(0,e.doc)(g.db,"padel_centers",a.uid),c=await (0,e.getDoc)(b);if(!c.exists())return void t.push("/registro-centros");{let a=c.data();z(a);let b=a.contacts?.center,d=a.contacts?.admin,e=a.location||null;B({name:a.name||"",phone:a.phone||"",street:a.street||"",streetNumber:a.street_number||"",province:a.province||"",postalCode:a.postalCode||"",placeId:a.placeId||"",lat:"number"==typeof e?.lat?String(e.lat):"",lng:"number"==typeof e?.lng?String(e.lng):"",city:a.city||"",country:a.country||"",centerContactName:b?.name||a.name||"",centerContactEmail:b?.email||"",centerContactPhone:b?.phone||a.phone||"",adminContactName:d?.name||"",adminContactEmail:d?.email||a.email||"",adminContactPhone:d?.phone||""})}}catch(a){console.error("Error fetching center data:",a),D({type:"error",text:"No se pudo cargar la información del centro. Por favor intentá de nuevo."})}finally{v(!1)}};a&&!s&&b()},[a,s]);let E=(a,b)=>{B(c=>({...c,[a]:b}))},F=async()=>{if(a&&y){x(!0),D(null);try{let b=[[A.street.trim(),A.streetNumber.trim()].filter(Boolean).join(" "),A.city.trim(),A.province.trim(),A.postalCode.trim()].filter(Boolean).join(", "),c=Number.parseFloat(A.lat),d=Number.parseFloat(A.lng),f=Number.isFinite(c)&&Number.isFinite(d)?{lat:c,lng:d}:null,h=(0,e.doc)(g.db,"padel_centers",a.uid);await (0,e.updateDoc)(h,{name:A.name,phone:A.phone,address:b||y.address||"",street:A.street,street_number:A.streetNumber,province:A.province,postalCode:A.postalCode,placeId:A.placeId||null,location:f,city:A.city,country:A.country,contacts:{center:{name:A.centerContactName,email:A.centerContactEmail,phone:A.centerContactPhone},admin:{name:A.adminContactName,email:A.adminContactEmail,phone:A.adminContactPhone}},updatedAt:(0,e.serverTimestamp)()});let i=(0,e.doc)(g.db,"centers",a.uid);await (0,e.setDoc)(i,{name:A.name,phone:A.phone,address:b||y.address||"",street:A.street,streetNumber:A.streetNumber,province:A.province,postalCode:A.postalCode,placeId:A.placeId||null,location:f,city:A.city,country:A.country,updatedAt:(0,e.serverTimestamp)()},{merge:!0}),D({type:"success",text:"¡Configuración actualizada correctamente!"}),z(a=>a?{...a,name:A.name,phone:A.phone,address:b||y.address||"",street:A.street,street_number:A.streetNumber,province:A.province,postalCode:A.postalCode,placeId:A.placeId||null,location:f,city:A.city,country:A.country,contacts:{center:{name:A.centerContactName,email:A.centerContactEmail,phone:A.centerContactPhone},admin:{name:A.adminContactName,email:A.adminContactEmail,phone:A.adminContactPhone}}}:null)}catch(a){console.error("Error updating center data:",a),D({type:"error",text:"No se pudo actualizar la configuración. Por favor intentá de nuevo."})}finally{x(!1)}}};return s||u?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(o.Loader2,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando configuración..."})]})}):a&&y?(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,b.jsx)("header",{className:"border-b border-gray-200/50 dark:border-gray-700/50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)(r.default,{href:"/dashboard-centros",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:[(0,b.jsx)(n.ArrowLeft,{className:"w-4 h-4"}),"Volver al Panel"]})}),(0,b.jsxs)(r.default,{href:"/",className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center",children:(0,b.jsx)(m.Sparkles,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("span",{className:"font-semibold text-xl tracking-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"courtly"})]}),(0,b.jsx)("div",{})," "]})}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Configuración del Centro"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Actualiza la información y preferencias de tu centro"})]}),C&&(0,b.jsx)(l.Alert,{className:`mb-6 ${"success"===C.type?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20":"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20"}`,children:(0,b.jsxs)(l.AlertDescription,{className:"success"===C.type?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200",children:["success"===C.type?(0,b.jsx)(p.CheckCircle,{className:"w-4 h-4 inline mr-2"}):(0,b.jsx)(q.AlertCircle,{className:"w-4 h-4 inline mr-2"}),C.text]})}),(0,b.jsxs)(k.Card,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-xl",children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{className:"text-xl text-gray-900 dark:text-white",children:"Información básica"}),(0,b.jsx)(k.CardDescription,{className:"text-gray-600 dark:text-gray-400",children:"Actualiza los datos básicos de tu centro"})]}),(0,b.jsxs)(k.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"name",className:"text-gray-700 dark:text-gray-300",children:"Nombre del centro"}),(0,b.jsx)(i.Input,{id:"name",value:A.name,onChange:a=>E("name",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Ingresa el nombre del centro"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"phone",className:"text-gray-700 dark:text-gray-300",children:"Teléfono"}),(0,b.jsx)(i.Input,{id:"phone",value:A.phone,onChange:a=>E("phone",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Ingresa el número de teléfono"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"street",className:"text-gray-700 dark:text-gray-300",children:"Calle"}),(0,b.jsx)(i.Input,{id:"street",value:A.street,onChange:a=>E("street",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Av. Libertador"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"streetNumber",className:"text-gray-700 dark:text-gray-300",children:"Número"}),(0,b.jsx)(i.Input,{id:"streetNumber",value:A.streetNumber,onChange:a=>E("streetNumber",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"1234"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"city",className:"text-gray-700 dark:text-gray-300",children:"Ciudad"}),(0,b.jsx)(i.Input,{id:"city",value:A.city,onChange:a=>E("city",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Buenos Aires"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"province",className:"text-gray-700 dark:text-gray-300",children:"Provincia"}),(0,b.jsx)(i.Input,{id:"province",value:A.province,onChange:a=>E("province",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Buenos Aires"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"postalCode",className:"text-gray-700 dark:text-gray-300",children:"Código postal"}),(0,b.jsx)(i.Input,{id:"postalCode",value:A.postalCode,onChange:a=>E("postalCode",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"C1425"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"country",className:"text-gray-700 dark:text-gray-300",children:"País"}),(0,b.jsx)(i.Input,{id:"country",value:A.country,onChange:a=>E("country",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Argentina"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"placeId",className:"text-gray-700 dark:text-gray-300",children:"Google Place ID"}),(0,b.jsx)(i.Input,{id:"placeId",value:A.placeId,onChange:a=>E("placeId",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"ChIJN1t_tDeuEmsRUsoyG83frY4"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"lat",className:"text-gray-700 dark:text-gray-300",children:"Lat"}),(0,b.jsx)(i.Input,{id:"lat",value:A.lat,onChange:a=>E("lat",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"-34.6037"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"lng",className:"text-gray-700 dark:text-gray-300",children:"Lng"}),(0,b.jsx)(i.Input,{id:"lng",value:A.lng,onChange:a=>E("lng",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"-58.3816"})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"Perfiles de contacto"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Configura cómo los usuarios pueden contactar al centro y al administrador."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Contacto del centro"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"centerContactName",className:"text-gray-700 dark:text-gray-300",children:"Nombre"}),(0,b.jsx)(i.Input,{id:"centerContactName",value:A.centerContactName,onChange:a=>E("centerContactName",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Nombre de contacto del centro"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"centerContactEmail",className:"text-gray-700 dark:text-gray-300",children:"Email"}),(0,b.jsx)(i.Input,{id:"centerContactEmail",type:"email",value:A.centerContactEmail,onChange:a=>E("centerContactEmail",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"contact@centro.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"centerContactPhone",className:"text-gray-700 dark:text-gray-300",children:"Phone"}),(0,b.jsx)(i.Input,{id:"centerContactPhone",value:A.centerContactPhone,onChange:a=>E("centerContactPhone",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"+54 ..."})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Contacto del administrador"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"adminContactName",className:"text-gray-700 dark:text-gray-300",children:"Nombre"}),(0,b.jsx)(i.Input,{id:"adminContactName",value:A.adminContactName,onChange:a=>E("adminContactName",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Nombre del administrador"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"adminContactEmail",className:"text-gray-700 dark:text-gray-300",children:"Email"}),(0,b.jsx)(i.Input,{id:"adminContactEmail",type:"email",value:A.adminContactEmail,onChange:a=>E("adminContactEmail",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"admin@..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"adminContactPhone",className:"text-gray-700 dark:text-gray-300",children:"Phone"}),(0,b.jsx)(i.Input,{id:"adminContactPhone",value:A.adminContactPhone,onChange:a=>E("adminContactPhone",a.target.value),className:"mt-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"+54 ..."})]})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Información de la cuenta"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-gray-500 dark:text-gray-400",children:"Correo electrónico"}),(0,b.jsx)("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md",children:(0,b.jsx)("span",{className:"text-gray-900 dark:text-white",children:y.email})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-gray-500 dark:text-gray-400",children:"Plan"}),(0,b.jsx)("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md",children:(0,b.jsx)("span",{className:"text-gray-900 dark:text-white capitalize",children:y.plan})})]})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-6",children:(0,b.jsx)(h.Button,{onClick:F,disabled:w,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg",children:w?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar cambios"})})]})]})]})})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(q.AlertCircle,{className:"w-8 h-8 mx-auto mb-4 text-red-600"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No se pudo cargar la configuración. Por favor intentá de nuevo."})]})})}a.s(["default",()=>s])}];

//# sourceMappingURL=app_dashboard-centros_settings_page_tsx_5aca6ad1._.js.map