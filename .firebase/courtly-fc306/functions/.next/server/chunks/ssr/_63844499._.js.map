{"version":3,"sources":["../../../../components/ui/input.tsx","../../../../app/backoffice/centers/page.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm text-foreground',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","\"use client\"\n\nimport Link from \"next/link\"\nimport { useEffect, useState } from \"react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\nimport { backofficeFetch, BackofficeRequestError } from \"@/lib/backoffice/client\"\n\ntype CenterRow = {\n  centerId: string\n  name?: string\n  email?: string\n  ownerEmail?: string | null\n  slug?: string\n  published?: boolean\n  status?: string\n  featuredRank?: number | null\n  courtsCount?: number\n  sports?: string[]\n}\n\nexport default function BackofficeCentersPage() {\n  const [q, setQ] = useState(\"\")\n  const [items, setItems] = useState<CenterRow[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<{ message: string; status?: number } | null>(null)\n\n  const load = async (query: string) => {\n    try {\n      setError(null)\n      setLoading(true)\n      const res = await backofficeFetch<{ items: CenterRow[] }>(`/api/backoffice/centers?q=${encodeURIComponent(query)}`)\n      setItems(res.items)\n    } catch (e: any) {\n      if (e instanceof BackofficeRequestError) {\n        setError({ message: e.message, status: e.status })\n      } else {\n        setError({ message: e?.message || \"Failed\" })\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    load(\"\")\n  }, [])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      load(q)\n    }, 10000)\n    return () => clearInterval(interval)\n  }, [q])\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-semibold text-slate-900\">Centers / Clubs</h1>\n        <p className=\"text-sm text-slate-600 mt-1\">Review and manage centers visibility and status.</p>\n      </div>\n\n      <div className=\"flex flex-col md:flex-row gap-2\">\n        <Input value={q} onChange={(e) => setQ(e.target.value)} placeholder=\"Search by name, email, slug, id\" />\n        <Button className=\"bg-blue-600 hover:bg-blue-700\" onClick={() => load(q)}>\n          Search\n        </Button>\n      </div>\n\n      {loading ? <div className=\"text-slate-600\">Loading…</div> : null}\n      {error ? (\n        <div className=\"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700\">\n          <div className=\"font-semibold\">Request failed</div>\n          <div>{error.message}</div>\n          {typeof error.status === \"number\" ? <div className=\"text-xs mt-1\">Status: {error.status}</div> : null}\n        </div>\n      ) : null}\n\n      <div className=\"overflow-auto border border-slate-200 rounded-xl\">\n        <table className=\"w-full text-sm\">\n          <thead>\n            <tr className=\"text-left text-slate-600 bg-slate-50\">\n              <th className=\"py-2 px-3\">ID</th>\n              <th className=\"py-2 px-3\">Name</th>\n              <th className=\"py-2 px-3\">Slug</th>\n              <th className=\"py-2 px-3\">Owner</th>\n              <th className=\"py-2 px-3\">Courts</th>\n              <th className=\"py-2 px-3\">Sports</th>\n              <th className=\"py-2 px-3\">Published</th>\n              <th className=\"py-2 px-3\">Status</th>\n              <th className=\"py-2 px-3\">Featured</th>\n              <th className=\"py-2 px-3\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((c) => (\n              <tr key={c.centerId} className=\"border-t border-slate-100\">\n                <td className=\"py-2 px-3 font-mono text-xs text-slate-800\">{c.centerId}</td>\n                <td className=\"py-2 px-3\">{c.name || \"—\"}</td>\n                <td className=\"py-2 px-3 font-mono text-xs text-slate-700\">{c.slug || \"—\"}</td>\n                <td className=\"py-2 px-3 text-xs text-slate-700\">{c.ownerEmail || \"—\"}</td>\n                <td className=\"py-2 px-3\">{typeof c.courtsCount === \"number\" ? c.courtsCount : \"—\"}</td>\n                <td className=\"py-2 px-3 text-xs text-slate-700\">{c.sports?.length ? c.sports.join(\", \") : \"—\"}</td>\n                <td className=\"py-2 px-3\">{c.published ? \"Yes\" : \"No\"}</td>\n                <td className=\"py-2 px-3\">{c.status || \"active\"}</td>\n                <td className=\"py-2 px-3\">{c.featuredRank ?? \"—\"}</td>\n                <td className=\"py-2 px-3 text-right\">\n                  <Link href={`/backoffice/centers/${c.centerId}`} className=\"text-blue-700 hover:underline\">\n                    View\n                  </Link>\n                </td>\n              </tr>\n            ))}\n            {!loading && items.length === 0 ? (\n              <tr>\n                <td className=\"py-6 px-3 text-slate-600\" colSpan={10}>\n                  No centers found.\n                </td>\n              </tr>\n            ) : null}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}