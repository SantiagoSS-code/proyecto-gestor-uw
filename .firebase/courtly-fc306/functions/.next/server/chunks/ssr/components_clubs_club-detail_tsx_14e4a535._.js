module.exports=[44736,a=>{"use strict";var b=a.i(82746),c=a.i(80940);a.i(56108);var d=a.i(42070),e=a.i(99996),f=a.i(40695),g=a.i(3130),h=a.i(5522),i=a.i(17171),j=a.i(87682),k=a.i(40076),l=a.i(1556),m=a.i(60493),n=a.i(46886),o=a.i(61237);let p=(0,o.default)("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);var q=a.i(19113);let r=(0,o.default)("ShowerHead",[["path",{d:"m4 4 2.5 2.5",key:"uv2vmf"}],["path",{d:"M13.5 6.5a4.95 4.95 0 0 0-7 7",key:"frdkwv"}],["path",{d:"M15 5 5 15",key:"1ag8rq"}],["path",{d:"M14 17v.01",key:"eokfpp"}],["path",{d:"M10 16v.01",key:"14uyyl"}],["path",{d:"M13 13v.01",key:"1v1k97"}],["path",{d:"M16 10v.01",key:"5169yg"}],["path",{d:"M11 20v.01",key:"cj92p8"}],["path",{d:"M17 14v.01",key:"11cswd"}],["path",{d:"M20 11v.01",key:"19e0od"}]]),s=(0,o.default)("SquareParking",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9",key:"1dfk2c"}]]),t=(0,o.default)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);var u=a.i(94996);let v=(0,o.default)("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),w=(0,o.default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),x=(0,o.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var y=a.i(31823),z=a.i(97895);let A={bar:{label:"Bar",Icon:function({className:a}){return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,"aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M3 3h18l-9 10-9-10Z"}),(0,b.jsx)("path",{d:"M12 13v6"}),(0,b.jsx)("path",{d:"M9 19h6"})]})}},bathrooms:{label:"Bathrooms",Icon:x},showers:{label:"Showers",Icon:r},gym:{label:"Gym",Icon:p},parking:{label:"Parking",Icon:s},lockers:{label:"Lockers",Icon:u.Lock},wifi:{label:"Wi‑Fi",Icon:t},shop:{label:"Shop",Icon:w},cafeteria:{label:"Cafeteria",Icon:v}},B={padel:"Padel",tennis:"Tennis",futbol:"Fútbol",pickleball:"Pickleball",squash:"Squash"},C=[{key:"0",label:"Sun"},{key:"1",label:"Mon"},{key:"2",label:"Tue"},{key:"3",label:"Wed"},{key:"4",label:"Thu"},{key:"5",label:"Fri"},{key:"6",label:"Sat"}],D={0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"};async function E(a){let b=(0,d.query)((0,d.collection)(e.db,y.FIRESTORE_COLLECTIONS.centers),(0,d.where)("slug","==",a),(0,d.where)("published","==",!0),(0,d.limit)(1)),c=(await (0,d.getDocs)(b)).docs[0];return c?{id:c.id,data:c.data()}:null}async function F(a){let b=(0,d.collection)(e.db,y.FIRESTORE_COLLECTIONS.centers,a,y.CENTER_SUBCOLLECTIONS.courts),c=(0,d.query)(b,(0,d.where)("published","==",!0));return(await (0,d.getDocs)(c)).docs.map(a=>({id:a.id,data:a.data()}))}async function G(a){let b=(0,d.doc)(e.db,y.FIRESTORE_COLLECTIONS.centers,a,y.CENTER_SUBCOLLECTIONS.settings,y.CENTER_SETTINGS_DOCS.booking),c=await (0,d.getDoc)(b);return c.exists()?c.data():null}async function H(a){let b=(0,d.doc)(e.db,y.FIRESTORE_COLLECTIONS.legacyCenters,a,y.CENTER_SUBCOLLECTIONS.legacyAvailability,y.LEGACY_AVAILABILITY_DOCS.config),c=await (0,d.getDoc)(b);if(!c.exists())return null;let f=c.data(),g={sunday:"0",monday:"1",tuesday:"2",wednesday:"3",thursday:"4",friday:"5",saturday:"6"},h={};for(let[a,b]of Object.entries(f.openingHours||{})){let c=g[a];c&&(h[c]=b)}return{timezone:f.timezone,slotDurationMinutes:f.slotDuration||60,openingHours:h}}async function I(a,b){let c=e.auth.currentUser;if(!c||c.uid!==a)return[];let f=new Date(`${b}T00:00:00`),g=new Date(`${b}T23:59:59`),h=(0,d.collection)(e.db,y.FIRESTORE_COLLECTIONS.centers,a,y.CENTER_SUBCOLLECTIONS.bookings),i=(0,d.query)(h,(0,d.where)("startAt",">=",f),(0,d.where)("startAt","<=",g));return(await (0,d.getDocs)(i)).docs.map(a=>({id:a.id,...a.data()}))}async function J(a){let b=(0,d.collection)(e.db,y.FIRESTORE_COLLECTIONS.centers,a,y.CENTER_SUBCOLLECTIONS.classes);return(await (0,d.getDocs)(b)).docs.map(a=>a.data()).filter(a=>!1!==a.enabled)}function K(a){if(!a)return null;if(a instanceof Date)return a;if("function"==typeof a?.toDate)return a.toDate();let b=new Date(a);return Number.isNaN(b.getTime())?null:b}function L(a,b){let c=new Date(`${a}T00:00:00`);return c.setDate(c.getDate()+b),c.toISOString().slice(0,10)}function M(a){return new Intl.DateTimeFormat("en-CA",{timeZone:a,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date)}function N(a){return new Date(`${a}T00:00:00`)}function O({slug:a}){let[d,o]=(0,c.useState)(!0),[p,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(null),[y,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)(M("America/Argentina/Buenos_Aires")),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(0),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let b=await E(a);if(!b)return void t(null);r(b.id),t(b.data);let[c,d,e]=await Promise.all([F(b.id),G(b.id),J(b.id)]);if(v(c),O(e),d)x(d);else{let a=await H(b.id);x(a)}}catch(a){console.error("Failed to load club:",a),t(null)}finally{o(!1)}})()},[a]);let ad=(0,c.useMemo)(()=>s?Array.from(new Set([s.coverImageUrl,...s.galleryImageUrls||[]].filter(Boolean))):[],[s]),ae=s?.placeId?.trim()||s?.googlePlaceId?.trim()||null,af=!!ae;(0,c.useEffect)(()=>{Z>=ad.length&&$(0)},[Z,ad.length]),(0,c.useEffect)(()=>{},[ae]),(0,c.useEffect)(()=>{(async()=>{if(p&&P)try{Y(!0);let a=await I(p,P);W(a)}catch(a){console.error("Failed to load bookings:",a),W([])}finally{Y(!1)}})()},[p,P]);let ag=(0,c.useMemo)(()=>N(P).getDay().toString(),[P]),ah=w?.slotDurationMinutes||60,ai=w?.openingHours?.[ag],aj=(0,c.useMemo)(()=>{let a;if(!ai||ai.closed)return[];let b=(0,z.timeToMinutes)(ai.open),c=(0,z.timeToMinutes)(ai.close),d=[],e=w?.timezone||"America/Argentina/Buenos_Aires",f=M(e),g=(a=new Intl.DateTimeFormat("en-US",{timeZone:e,hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(new Date),60*Number(a.find(a=>"hour"===a.type)?.value||0)+Number(a.find(a=>"minute"===a.type)?.value||0));for(let a=b;a+ah<=c;a+=ah)P===f&&a+ah<=g||d.push((0,z.minutesToTime)(a));return d},[ai,ah,P,w?.timezone]),ak=(0,c.useMemo)(()=>{let a=(s?.sports||[]).filter(Boolean);return a.length?Array.from(new Set(a)):Array.from(new Set(u.map(a=>a.data.sport).filter(Boolean)))},[s?.sports,u]);(0,c.useEffect)(()=>{ak.length&&!R&&S(ak[0])},[ak,R]);let al=(0,c.useMemo)(()=>R?u.filter(a=>a.data.sport===R):u,[u,R]),am=(0,c.useMemo)(()=>{let a=new Map;return V.forEach(b=>{if(!b.courtId||"cancelled"===b.status||"class"===b.type)return;let c=a.get(b.courtId)||[];c.push(b),a.set(b.courtId,c)}),a},[V]);if(d)return(0,b.jsx)("div",{className:"container mx-auto px-4 pt-24 pb-16 text-muted-foreground",children:"Loading club…"});if(!s||!p)return(0,b.jsx)("div",{className:"container mx-auto px-4 pt-24 pb-16",children:(0,b.jsxs)(g.Card,{className:"border border-border/50",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Club not found"})}),(0,b.jsx)(g.CardContent,{className:"text-muted-foreground",children:"This club is not published or does not exist."})]})});let an=s.location?.fullAddress||[s.address,s.city,s.country].filter(Boolean).join(", "),ao=af?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(an)}&query_place_id=${ae}`:null,ap=af?`https://www.google.com/maps/embed/v1/place?key=AIzaSyDxfbtA8uYqrdbd_oyudSlKtceDy56pre8&q=place_id:${ae}&zoom=16`:null,aq=(s.amenities||[]).filter(a=>a in A),ar=s.coverImageUrl||s.galleryImageUrls?.[0]||null,as=T?u.find(a=>a.id===T.courtId):null,at=as?.data.pricePerHour,au=as?.data.currency||"ARS",av="number"==typeof at?Number((at*ah/60).toFixed(2)):null,aw=async()=>{if(T&&as&&p&&s){aa(!0),ac(null);try{let a=e.auth.currentUser,b={centerId:p,courtId:T.courtId,date:P,time:T.time,durationMinutes:ah,customerName:a?.displayName||"Invitado",customerEmail:a?.email||"guest@courtly.app",userId:a?.uid||null},c=await fetch("/api/mercadopago/create-preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),d=await c.json();if(!c.ok)return void("Slot already booked"===d.error?ac("Este horario ya fue reservado. Por favor elegí otro."):ac(d.error||"Error al crear la reserva. Intentá de nuevo."));if(!d.checkoutUrl)return void ac("No se pudo obtener el link de pago. Intentá de nuevo.");window.location.href=d.checkoutUrl}catch(a){console.error("Error creating checkout:",a),ac("Error de conexión. Verificá tu internet e intentá de nuevo.")}finally{aa(!1)}}};return(0,b.jsx)("div",{className:"pt-24 pb-16",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.25fr_0.75fr] gap-6",children:[(0,b.jsxs)(g.Card,{className:"border border-border/50 overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative h-[320px] md:h-[420px] bg-muted",children:[ad.length>0?(0,b.jsx)("img",{src:ad[Z],alt:s.name,className:"w-full h-full object-cover"}):ar?(0,b.jsx)("img",{src:ar,alt:s.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-slate-200 to-slate-100"}),ad.length>1?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>$(a=>(a-1+ad.length)%ad.length),className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/80 border border-slate-200 flex items-center justify-center","aria-label":"Previous image",children:(0,b.jsx)(m.ChevronLeft,{className:"w-5 h-5 text-slate-900"})}),(0,b.jsx)("button",{onClick:()=>$(a=>(a+1)%ad.length),className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/80 border border-slate-200 flex items-center justify-center","aria-label":"Next image",children:(0,b.jsx)(n.ChevronRight,{className:"w-5 h-5 text-slate-900"})})]}):null]}),ad.length>1?(0,b.jsx)("div",{className:"p-4 flex gap-3 overflow-x-auto",children:ad.map((a,c)=>(0,b.jsx)("img",{src:a,alt:"",onClick:()=>$(c),className:`h-16 w-24 object-cover rounded-lg cursor-pointer border ${c===Z?"border-blue-600":"border-slate-200"}`},a))}):null]}),(0,b.jsxs)(g.Card,{className:"border border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-3xl font-bold text-slate-900",children:s.name}),(0,b.jsxs)("div",{className:"mt-2 space-y-2 text-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.MapPin,{className:"w-4 h-4 text-blue-600"}),ao?(0,b.jsx)("a",{href:ao,target:"_blank",rel:"noreferrer",className:"text-sm text-blue-700 hover:underline",children:an||"Ubicación por definir"}):(0,b.jsx)("span",{className:"text-sm",children:an||"Ubicación por definir"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Building2,{className:"w-4 h-4 text-blue-600"}),(0,b.jsxs)("span",{className:"text-sm",children:[u.length," courts published"]})]})]})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[ak.length?(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900 mb-2",children:"Sports"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:ak.map(a=>(0,b.jsx)("span",{className:"inline-flex items-center rounded-full bg-slate-100 text-slate-900 px-3 py-1 text-xs font-medium",children:B[a]||a},a))})]}):null,aq.length?(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900 mb-2",children:"Amenities"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:aq.map(a=>{let c=A[a],d=c.Icon;return(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,b.jsx)(d,{className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{children:c.label})]},a)})})]}):null,(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-900 font-medium",children:[(0,b.jsx)(l.Calendar,{className:"w-4 h-4 text-blue-600"}),"Bookings (MVP)"]}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Choose a date to see available slots."})]})]})]})]}),(0,b.jsxs)("div",{className:"mt-10 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(g.Card,{className:"border border-border/50",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Location"})}),(0,b.jsx)(g.CardContent,{className:"p-0",children:(0,b.jsxs)("div",{className:"rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-sm",children:[af&&ap?(0,b.jsxs)("div",{className:"relative h-[260px]",children:[(0,b.jsx)("iframe",{title:"map",src:ap,className:"absolute inset-0 h-full w-full",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",style:{border:0}}),ao?(0,b.jsx)("a",{href:ao,target:"_blank",rel:"noreferrer",className:"absolute inset-0","aria-label":"Abrir ubicación en Google Maps"}):null]}):(0,b.jsx)("div",{className:"flex h-[260px] items-center justify-center bg-slate-50 px-4 text-sm text-slate-600",children:"Ubicación sin Place ID. Configurá el Google Place ID en el perfil del club."}),(0,b.jsx)("div",{className:"border-t border-slate-200 px-4 py-3",children:an?ao?(0,b.jsx)("a",{href:ao,target:"_blank",rel:"noreferrer",className:"text-base font-semibold text-slate-900 hover:underline",children:an}):(0,b.jsx)("div",{className:"text-base font-semibold text-slate-900",children:an}):(0,b.jsx)("div",{className:"text-base font-semibold text-slate-900",children:"Ubicación por definir"})})]})})]}),(0,b.jsxs)(g.Card,{className:"border border-border/50",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"About"})}),(0,b.jsx)(g.CardContent,{className:"text-slate-700 whitespace-pre-wrap",children:s.description||"No description yet."})]})]}),(0,b.jsxs)("div",{className:"mt-10 grid grid-cols-1 lg:grid-cols-[1.6fr_0.8fr] gap-6",children:[(0,b.jsxs)(g.Card,{className:"border border-border/50",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Elige tu turno"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-end gap-3",children:[(0,b.jsxs)("div",{className:"min-w-[180px]",children:[(0,b.jsx)(i.Label,{children:"Deporte"}),(0,b.jsxs)(j.Select,{value:R,onValueChange:a=>S(a),children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Seleccionar deporte"})}),(0,b.jsx)(j.SelectContent,{children:ak.map(a=>(0,b.jsx)(j.SelectItem,{value:a,children:B[a]||a},a))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{children:"Fecha"}),(0,b.jsx)(h.Input,{type:"date",value:P,onChange:a=>Q(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,b.jsx)("button",{className:"h-8 w-8 rounded-full border border-slate-200 flex items-center justify-center hover:bg-slate-50",onClick:()=>Q(a=>L(a,-1)),"aria-label":"Día anterior",children:(0,b.jsx)(m.ChevronLeft,{className:"h-4 w-4"})}),(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900",children:N(P).toLocaleDateString("es-AR",{weekday:"short",day:"2-digit",month:"2-digit"})}),(0,b.jsx)("button",{className:"h-8 w-8 rounded-full border border-slate-200 flex items-center justify-center hover:bg-slate-50",onClick:()=>Q(a=>L(a,1)),"aria-label":"Día siguiente",children:(0,b.jsx)(n.ChevronRight,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 ml-2 hidden md:block",children:[w?.timezone?`Zona horaria: ${w.timezone}`:"Zona horaria sin configurar"," · ",ah," min · ",C[Number(ag)]?.label]})]})]}),0===u.length?(0,b.jsx)("div",{className:"text-slate-600",children:"No published courts yet."}):w&&ai?ai.closed?(0,b.jsx)("div",{className:"text-slate-600",children:"Closed on this day."}):0===aj.length?(0,b.jsx)("div",{className:"text-slate-600",children:"No slots available for the selected day."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"block",children:(0,b.jsx)("div",{className:"overflow-auto rounded-xl border border-slate-200",children:(0,b.jsx)("div",{className:"min-w-[860px]",children:(0,b.jsxs)("div",{className:"grid grid-cols-[220px_repeat(var(--slot-count),minmax(52px,1fr))]",style:{"--slot-count":aj.length},children:[(0,b.jsx)("div",{className:"md:sticky md:left-0 top-0 z-10 bg-white border-b border-slate-200 p-3 text-xs font-semibold text-slate-600",children:"Canchas"}),aj.map(a=>(0,b.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200 p-3 text-xs font-semibold text-slate-600 text-center",children:a},a)),al.map(a=>(0,b.jsxs)("div",{className:"contents",children:[(0,b.jsxs)("div",{className:"md:sticky md:left-0 bg-white border-b border-slate-100 p-3",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:a.data.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 mt-0.5",children:[a.data.sport?B[a.data.sport]:"Padel",a.data.surfaceType?` \xb7 ${a.data.surfaceType}`:"","boolean"==typeof a.data.indoor?` \xb7 ${a.data.indoor?"Cubierta":"Descubierta"}`:""]})]}),aj.map(c=>{let d=((a,b)=>{let c=am.get(a)||[];if(!c.length)return!1;let d=new Date(`${P}T${b}:00`),e=new Date(d.getTime()+6e4*ah);return c.some(a=>{let b=K(a.startAt),c=K(a.endAt);return!!b&&!!c&&b<e&&c>d})})(a.id,c),e=T?.courtId===a.id&&T.time===c;return(0,b.jsx)("button",{title:c,className:`border-b border-slate-100 px-2 py-2 text-xs text-center transition-all ${d?"bg-slate-200 text-slate-400 cursor-not-allowed":e?"bg-emerald-500 text-white":"bg-white hover:bg-emerald-50 text-slate-700"}`,onClick:()=>d?null:U({courtId:a.id,time:c}),disabled:d,"aria-label":`Turno ${c} en ${a.data.name}`},`${a.id}-${c}`)})]},a.id))]})})})}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs text-slate-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"inline-block h-3 w-3 rounded-sm border border-slate-200 bg-white"})," Disponible"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"inline-block h-3 w-3 rounded-sm border border-slate-200 bg-slate-200"})," No disponible"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"inline-block h-3 w-3 rounded-sm border border-emerald-500 bg-emerald-500"})," Tu reserva"]}),X?(0,b.jsx)("span",{children:"Actualizando disponibilidad…"}):null]})]}):(0,b.jsx)("div",{className:"text-slate-600",children:"Booking settings not configured yet. Ask the club admin to set opening hours in the dashboard."})]})]}),(0,b.jsxs)(g.Card,{className:"border border-border/50 h-fit",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Resumen"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 space-y-2",children:[(0,b.jsx)("div",{className:"text-sm text-slate-600",children:"Turno seleccionado"}),(0,b.jsx)("div",{className:"text-base font-semibold text-slate-900",children:as?as.data.name:"Seleccioná un horario"}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:T?`${P} \xb7 ${T.time}`:"Elegí un turno en la grilla"}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:as?.data.sport?B[as.data.sport]:""})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Precio por hora"}),(0,b.jsx)("span",{className:"text-slate-900",children:"number"==typeof at?`${au} ${at}`:"Consultar"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Total"}),(0,b.jsx)("span",{className:"text-slate-900",children:"number"==typeof av?`${au} ${av}`:"—"})]})]}),(0,b.jsx)(f.Button,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:!T||!as||_,onClick:aw,children:_?"Redirigiendo a Mercado Pago…":"Reservar"}),ab?(0,b.jsx)("div",{className:"text-xs text-red-600 bg-red-50 border border-red-200 rounded-lg p-2",children:ab}):(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Pagá de forma segura con Mercado Pago."})]})]})]}),aq.length?(0,b.jsx)("div",{className:"mt-10",children:(0,b.jsxs)(g.Card,{className:"border border-border/50",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Amenities"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:aq.map(a=>(0,b.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-700",children:A[a].label},a))})})]})}):null,s.classesEnabled&&y.length?(0,b.jsx)("div",{className:"mt-10",children:(0,b.jsxs)(g.Card,{className:"border border-border/50",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Classes"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(a=>{var c;return(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-base font-semibold text-slate-900",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:B[a.sport]}),a.coachName?(0,b.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Coach: ",a.coachName]}):null]}),(0,b.jsxs)("div",{className:"text-sm text-slate-700",children:[a.currency||"ARS"," ",a.price]})]}),(0,b.jsx)("div",{className:"text-xs text-slate-600 mt-3",children:(c=a.recurringSchedule||[],c?.length?c.map(a=>`${D[a.dayOfWeek]||""} ${a.startTime}–${a.endTime}`).join(" · "):"Schedule TBD")}),(0,b.jsxs)("div",{className:"text-xs text-slate-600 mt-1",children:["Duration: ",a.durationMinutes," min · Capacity: ",a.capacity]}),(0,b.jsx)(f.Button,{className:"mt-4",variant:"outline",onClick:()=>window.alert("Class booking flow coming soon."),children:"Book class"})]},`${a.name}-${a.sport}`)})})})]})}):null,ad.length>0?(0,b.jsx)("div",{className:"mt-10",children:(0,b.jsxs)(g.Card,{className:"border border-border/50",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Photos"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:ad.slice(0,9).map(a=>(0,b.jsx)("img",{src:a,alt:"",className:"w-full h-40 object-cover rounded-xl border border-slate-200"},a))})})]})}):null]})})}a.s(["ClubDetail",()=>O],44736)}];

//# sourceMappingURL=components_clubs_club-detail_tsx_14e4a535._.js.map