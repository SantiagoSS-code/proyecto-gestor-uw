{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/santisanchez/Documents/GitHub/proyecto-gestor-uw/app/backoffice/bookings/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { backofficeFetch, BackofficeRequestError } from \"@/lib/backoffice/client\"\n\nexport default function BackofficeBookingsPage() {\n  const [items, setItems] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<{ message: string; status?: number } | null>(null)\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setError(null)\n        setLoading(true)\n        const res = await backofficeFetch<{ items: any[] }>(\"/api/backoffice/bookings?limit=100\")\n        setItems(res.items)\n      } catch (e: any) {\n        if (e instanceof BackofficeRequestError) {\n          setError({ message: e.message, status: e.status })\n        } else {\n          setError({ message: e?.message || \"Failed\" })\n        }\n      } finally {\n        setLoading(false)\n      }\n    }\n    load()\n  }, [])\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-semibold text-slate-900\">Bookings</h1>\n        <p className=\"text-sm text-slate-600 mt-1\">Read-only list of recent bookings (MVP).</p>\n      </div>\n\n      {loading ? <div className=\"text-slate-600\">Loading…</div> : null}\n      {error ? (\n        <div className=\"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700\">\n          <div className=\"font-semibold\">Request failed</div>\n          <div>{error.message}</div>\n          {typeof error.status === \"number\" ? <div className=\"text-xs mt-1\">Status: {error.status}</div> : null}\n        </div>\n      ) : null}\n\n      <div className=\"overflow-auto border border-slate-200 rounded-xl\">\n        <table className=\"w-full text-sm\">\n          <thead>\n            <tr className=\"text-left text-slate-600 bg-slate-50\">\n              <th className=\"py-2 px-3\">ID</th>\n              <th className=\"py-2 px-3\">Status</th>\n              <th className=\"py-2 px-3\">Court</th>\n              <th className=\"py-2 px-3\">User</th>\n              <th className=\"py-2 px-3\">Path</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((b) => (\n              <tr key={`${b.path}:${b.id}`} className=\"border-t border-slate-100\">\n                <td className=\"py-2 px-3 font-mono text-xs text-slate-800\">{b.id}</td>\n                <td className=\"py-2 px-3\">{b.status || \"—\"}</td>\n                <td className=\"py-2 px-3 font-mono text-xs\">{b.courtId || \"—\"}</td>\n                <td className=\"py-2 px-3 font-mono text-xs\">{b.userId || \"—\"}</td>\n                <td className=\"py-2 px-3 font-mono text-xs text-slate-500\">{b.path}</td>\n              </tr>\n            ))}\n            {!loading && items.length === 0 ? (\n              <tr>\n                <td className=\"py-6 px-3 text-slate-600\" colSpan={5}>\n                  No bookings found.\n                </td>\n              </tr>\n            ) : null}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iVAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iVAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iVAAQ,EAA8C;IAEhF,IAAA,kVAAS;4CAAC;YACR,MAAM;yDAAO;oBACX,IAAI;wBACF,SAAS;wBACT,WAAW;wBACX,MAAM,MAAM,MAAM,IAAA,iJAAe,EAAmB;wBACpD,SAAS,IAAI,KAAK;oBACpB,EAAE,OAAO,GAAQ;wBACf,IAAI,aAAa,wJAAsB,EAAE;4BACvC,SAAS;gCAAE,SAAS,EAAE,OAAO;gCAAE,QAAQ,EAAE,MAAM;4BAAC;wBAClD,OAAO;4BACL,SAAS;gCAAE,SAAS,GAAG,WAAW;4BAAS;wBAC7C;oBACF,SAAU;wBACR,WAAW;oBACb;gBACF;;YACA;QACF;2CAAG,EAAE;IAEL,qBACE,qWAAC;QAAI,WAAU;;0BACb,qWAAC;;kCACC,qWAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,qWAAC;wBAAE,WAAU;kCAA8B;;;;;;;;;;;;YAG5C,wBAAU,qWAAC;gBAAI,WAAU;0BAAiB;;;;;uBAAiB;YAC3D,sBACC,qWAAC;gBAAI,WAAU;;kCACb,qWAAC;wBAAI,WAAU;kCAAgB;;;;;;kCAC/B,qWAAC;kCAAK,MAAM,OAAO;;;;;;oBAClB,OAAO,MAAM,MAAM,KAAK,yBAAW,qWAAC;wBAAI,WAAU;;4BAAe;4BAAS,MAAM,MAAM;;;;;;+BAAU;;;;;;uBAEjG;0BAEJ,qWAAC;gBAAI,WAAU;0BACb,cAAA,qWAAC;oBAAM,WAAU;;sCACf,qWAAC;sCACC,cAAA,qWAAC;gCAAG,WAAU;;kDACZ,qWAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,qWAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,qWAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,qWAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,qWAAC;wCAAG,WAAU;kDAAY;;;;;;;;;;;;;;;;;sCAG9B,qWAAC;;gCACE,MAAM,GAAG,CAAC,CAAC,kBACV,qWAAC;wCAA6B,WAAU;;0DACtC,qWAAC;gDAAG,WAAU;0DAA8C,EAAE,EAAE;;;;;;0DAChE,qWAAC;gDAAG,WAAU;0DAAa,EAAE,MAAM,IAAI;;;;;;0DACvC,qWAAC;gDAAG,WAAU;0DAA+B,EAAE,OAAO,IAAI;;;;;;0DAC1D,qWAAC;gDAAG,WAAU;0DAA+B,EAAE,MAAM,IAAI;;;;;;0DACzD,qWAAC;gDAAG,WAAU;0DAA8C,EAAE,IAAI;;;;;;;uCAL3D,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE;;;;;gCAQ7B,CAAC,WAAW,MAAM,MAAM,KAAK,kBAC5B,qWAAC;8CACC,cAAA,qWAAC;wCAAG,WAAU;wCAA2B,SAAS;kDAAG;;;;;;;;;;2CAIrD;;;;;;;;;;;;;;;;;;;;;;;;AAMhB;GA1EwB;KAAA"}}]
}