{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/santisanchez/Documents/GitHub/proyecto-gestor-uw/lib/firebaseClient.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\"\nimport { getAuth, connectAuthEmulator } from \"firebase/auth\"\nimport { getFirestore, connectFirestoreEmulator } from \"firebase/firestore\"\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\nconst app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\n\n// Connect to emulators only when explicitly enabled.\n// IMPORTANT: when viewing the app from a phone via LAN IP, \"localhost\" refers to the phone,\n// so auto-connecting to emulators breaks login. Use USE_FIREBASE_EMULATOR=true\n// (exposed as NEXT_PUBLIC_USE_FIREBASE_EMULATOR) and optionally NEXT_PUBLIC_FIREBASE_EMULATOR_HOST=YOUR_MAC_LAN_IP.\nconst useEmulators = process.env.NEXT_PUBLIC_USE_FIREBASE_EMULATOR === \"true\"\nconst explicitEmulatorHost = process.env.NEXT_PUBLIC_FIREBASE_EMULATOR_HOST\nconst isLocalhost =\n  typeof window !== \"undefined\" &&\n  (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\")\nconst shouldUseEmulators = useEmulators && (explicitEmulatorHost || isLocalhost)\n\nif (shouldUseEmulators) {\n  try {\n    const rawHost =\n      process.env.NEXT_PUBLIC_FIREBASE_EMULATOR_HOST ||\n      (typeof window !== \"undefined\" ? window.location.hostname : \"localhost\")\n\n    // Prefer explicit IPv4 loopback to avoid localhost/IPv6 mismatch.\n    const host = rawHost === \"localhost\" ? \"127.0.0.1\" : rawHost\n\n    connectAuthEmulator(auth, `http://${host}:9099`)\n    connectFirestoreEmulator(db, host, 8080)\n  } catch {\n    console.log(\"Emulators already connected\")\n  }\n}"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,MAAM,MAAM,IAAA,gPAAa,EAAC;AACnB,MAAM,OAAO,IAAA,iRAAO,EAAC;AACrB,MAAM,KAAK,IAAA,0RAAY,EAAC;AAE/B,qDAAqD;AACrD,4FAA4F;AAC5F,+EAA+E;AAC/E,oHAAoH;AACpH,MAAM,eAAe,QAAQ,GAAG,CAAC,iCAAiC,KAAK;AACvE,MAAM;AACN,MAAM,cACJ,kDAAkB,eAClB,CAAC,OAAO,QAAQ,CAAC,QAAQ,KAAK,eAAe,OAAO,QAAQ,CAAC,QAAQ,KAAK,WAAW;AACvF,MAAM,qBAAqB,gBAAgB,CAAC,wBAAwB,WAAW;AAE/E,IAAI,oBAAoB;IACtB,IAAI;QACF,MAAM,UACJ,iDACA,CAAC,sCAAgC,0BAA2B,WAAW;QAEzE,kEAAkE;QAClE,MAAM,OAAO,sCAA0B,0BAAc;QAErD,IAAA,6RAAmB,EAAC,MAAM,CAAC,OAAO,EAAE,KAAK,KAAK,CAAC;QAC/C,IAAA,sSAAwB,EAAC,IAAI,MAAM;IACrC,EAAE,OAAM;QACN,QAAQ,GAAG,CAAC;IACd;AACF"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///Users/santisanchez/Documents/GitHub/proyecto-gestor-uw/lib/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { User, onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '@/lib/firebaseClient';\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType>({\n  user: null,\n  loading: true,\n});\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport const AuthProvider = ({ children }: AuthProviderProps) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setUser(user);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, loading }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAWA,MAAM,4BAAc,IAAA,8XAAa,EAAkB;IACjD,MAAM;IACN,SAAS;AACX;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,2XAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAMO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAqB;IAC1D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yXAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yXAAQ,EAAC;IAEvC,IAAA,0XAAS,EAAC;QACR,MAAM,cAAc,IAAA,4RAAkB,EAAC,6HAAI,EAAE,CAAC;YAC5C,QAAQ;YACR,WAAW;QACb;QAEA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,qBACE,sZAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC1C;;;;;;AAGP"}}]
}